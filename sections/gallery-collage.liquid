{% schema %}
{
  "name": "Collage Gallery",
  "settings": [],
  "blocks": [
    {
      "type": "image",
      "name": "Image",
      "settings": [
        { "type": "image_picker", "id": "gallery_image", "label": "Image" }
      ]
    }
  ],
  "presets": [
    { "name": "Collage Gallery" }
  ]
}
{% endschema %}

<div class="page-width">
<div class="collage-gallery">
  {% for block in section.blocks %}
    {% if block.settings.gallery_image %}
      <div class="collage-item 
        {% if forloop.first or forloop.last %}full{% else %}half{% endif %}">
        <img src="{{ block.settings.gallery_image | img_url: '800x' }}" alt="Gallery image" loading="lazy">
      </div>
    {% endif %}
  {% endfor %}
</div>
</div>

<style>
.collage-gallery {
  display: flex;
  gap: 12px;
  align-items: flex-end; /* align bottoms so half items sit lower */
  overflow-x: auto;
  padding: 10px 0;
}

/* Full height items (first & last) */
.collage-item.full {
  height: 400px; /* adjust as needed */
  flex: 0 0 auto;
}

/* Half height items (middle ones) */
.collage-item.half {
  height: 200px; /* 50% height */
  flex: 0 0 auto;
}

.collage-item {
  position: relative;
  overflow: hidden;
  border-radius: 12px;
}

.collage-item img {
  width: auto;
  height: 100%;
  object-fit: cover;
  display: block;
  transition: transform .3s ease;
}

.collage-item:hover img {
  transform: scale(1.05);
}
</style>